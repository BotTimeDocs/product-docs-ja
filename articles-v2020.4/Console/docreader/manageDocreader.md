# 文書理解テンプレートの管理

## 文書理解テンプレートリストを表示
文書理解ページに入ると、現在のリソースグループのすべての文書理解テンプレートをリストで表示できます。主にテンプレート名、テンプレート公開ステータス、現在のテンプレートの抽出ラベルなどの情報が含まれます。テンプレートは主にこのテンプレートに属する同種のファイルを非構造化情報抽出するために使用されます。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader1.png)

## 新規文書理解テンプレート
"作成"ボタンをクリックして、ポップアップにテンプレート名、備考、内蔵モデル（PDF抽出モデル、OCR抽出モデルを含む）を記入し、対応するテンプレートファイルを選択してからテンプレート情報の初期作成が完了できます。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader2.png)


## 文書理解テンプレートの設定

### OCR文書理解テンプレートの設定

文書理解テンプレートの設定とは主にユーザーが可視化画面によってテキスト情報の抽出エリアを設定します。ユーザーは枠を引くことによって抽出するテキストエリアを決定することができます。


##### 1) ファイルアンカーの設定

ファイルアンカーは、ファイルに対してのテンプレートマッチングと傾斜補正に使用され、添付ファイルの"グレーのテキストエリア"をクリックすることでファイルのアンカーを決定します。アンカーは不変の文字でなければなりません。各ページのアンカーは3つより少なくてはなりません。多いほどよいです。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader/ocr2.png)


##### 2）抽出ラベルの設定

マウスで枠を引くことで添付ファイルの展示エリアで抽出するテキストエリアを選択できます。エリアを選択したごとに自動的にラベルが追加されます。各ラベルは非構造テキスト抽出エリアを意味し、一括抽出プロセスはラベルによって対応するテキスト内容を入力します。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader/ocr3.png)

#####  3) ラベルレンダリング

あるラベルをクリックすると、クリック項目がハイライトされます。また、添付ファイルの選択エリアがハイライト表示されます。あるマークボックスを選択すると、マークボックスがハイライトされ、対応するラベルもハイライトされます。

### PDF文書理解テンプレートの設定

文書理解テンプレートの設定とは主にユーザーが可視化画面によってテキスト情報の抽出エリアを設定します。ユーザーは枠を引くことによって抽出するテキストエリアを決定することができます。

##### 1）抽出ラベルの設定
マウスで枠を引くことで添付ファイルの展示エリアで抽出するテキストエリアを選択できます。エリアを選択したごとに自動的にラベルが追加されます。各ラベルは非構造テキスト抽出エリアを意味し、一括抽出プロセスはラベルによって対応するテキスト内容を入力します。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader3.png)

##### 2）参照ポイントの設定
ラベル抽出エリアがテキスト中の位置に一定のずれがある場合は、単一のラベルに参照ポイントを追加することで新しいサンプルを情報抽出する際の抽出枠の位置付けを補助できます。"参照ポイント"ボタンをクリックして、展開したエリアに参照ポイントの内容を記入し、参照ポイントの方向を選択します。
- 上：参照ポイントはラベルボックスの上にあります。

- 下：参照ポイントはラベルボックスの下にあります。

- 左：参照ポイントはラベルボックスの左にあります。

- 右：参照ポイントはラベルボックスの右にあります。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader4.png)

##### 3）ラベルレンダリング
あるラベルをクリックすると、クリック項目がハイライトされます。また、添付ファイルの選択エリアがハイライト表示されます。あるマークボックスを選択すると、マークボックスがハイライトされ、対応するラベルもハイライトされます。


## 文書理解テンプレートをテスト
テンプレートの設定が完了したら、テスト機能でテンプレートの効果を確認できます。"テスト"ボタンをクリックして、ポップアップにテストしたいファイルをアップロードし、新しいサンプルの情報抽出結果を確認できます。抽出結果ページにはすべてのラベル項目とラベル抽出内容が表示されます。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader5.png)

## 文書理解テンプレートを公開

現在のテンプレートがテストに通過した後、テンプレート設定ページまたは操作オプションで"操作"ボタンをクリックして、現在のテンプレートを公開できます。公開が完了したら、[アクティビティを呼び出し](activities/../../../Activities/Console/DocReader.md)で現在のテンプレートサービを利用でき、RPAプロセスで非構造テキスト情報を大量に抽出することができます。

![docreader](https://docimages.blob.core.chinacloudapi.cn/images/Console/docreader6.png)



